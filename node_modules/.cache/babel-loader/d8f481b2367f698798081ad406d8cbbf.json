{"ast":null,"code":"import _defineProperty from \"/Users/naufanharish/react/pokemon/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/naufanharish/react/pokemon/src/containers/pokemonDetails/pokemonDetails.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button } from '../../components/atoms';\nimport { withRouter } from 'react-router-dom';\n\nclass PokemonDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pokemonData: null,\n      failure: false,\n      success: false,\n      nickname: \"saipul jamil\"\n    };\n\n    this.catchPokemon = pokeData => {\n      const probability = [1, 1, 1, 1, 1, 0, 0, 0, 0, 0];\n      let idx = Math.floor(Math.random() * probability.length);\n\n      if (probability[idx] === 1) {\n        let payloadData = {\n          id: pokeData.id,\n          name: pokeData.name,\n          nickname: this.state.nickname\n        };\n        this.props.catchPokemon(payloadData).then(() => {\n          const catched = this.props.pokemon.catchFailure;\n\n          if (catched) {\n            this.setState({\n              failure: this.props.pokemon.catchFailure\n            });\n          }\n\n          this.setState({\n            success: true\n          });\n        });\n      } else {\n        alert(\"gagal\");\n      }\n    };\n\n    this.catchPokeFailure = () => {\n      this.props.resetCatchFailure();\n      alert('Gagal');\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      });\n    };\n\n    this.catchPokeSuccess = () => {\n      alert('Berhasil');\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      });\n    };\n\n    this.showPokemon = data => data ? React.createElement(React.Fragment, null, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"ID :\", data.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Name :\", data.name), React.createElement(Button, {\n      onClick: () => this.catchPokemon({\n        id: data.id,\n        name: data.name\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Test\")) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"No Data\");\n  }\n\n  componentDidMount() {\n    this.props.getPokemonDetails(this.props.match.params.id).then(() => {\n      const pokeDetails = this.props.pokemon;\n      const poke = this.props.pokemon.pokemonList.find(function (element) {\n        return element.id === \"\".concat(pokeDetails.selectedPokemon.id);\n      });\n      this.setState({\n        pokemonData: _objectSpread({}, pokeDetails.selectedPokemon, {\n          owned: poke ? poke.owned : null\n        })\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          pokemonData = _this$state.pokemonData,\n          failure = _this$state.failure,\n          success = _this$state.success;\n    return React.createElement(React.Fragment, null, pokemonData ? this.showPokemon(pokemonData) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Loading\"), failure ? this.catchPokeFailure() : null, success ? this.catchPokeSuccess() : null);\n  }\n\n}\n\nexport default withRouter(PokemonDetails);","map":{"version":3,"sources":["/Users/naufanharish/react/pokemon/src/containers/pokemonDetails/pokemonDetails.js"],"names":["React","Component","Redirect","Button","withRouter","PokemonDetails","state","pokemonData","failure","success","nickname","catchPokemon","pokeData","probability","idx","Math","floor","random","length","payloadData","id","name","props","then","catched","pokemon","catchFailure","setState","alert","catchPokeFailure","resetCatchFailure","catchPokeSuccess","showPokemon","data","componentDidMount","getPokemonDetails","match","params","pokeDetails","poke","pokemonList","find","element","selectedPokemon","owned","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button } from '../../components/atoms';\nimport { withRouter } from 'react-router-dom';\n\nclass PokemonDetails extends Component {\n    state = {\n        pokemonData: null,\n        failure: false,\n        success: false,\n        nickname: \"saipul jamil\"\n    }\n\n    componentDidMount() {\n        this.props.getPokemonDetails(this.props.match.params.id).then(()=>{\n            const pokeDetails = this.props.pokemon; \n            const poke = this.props.pokemon.pokemonList.find(function(element) {\n                return element.id === `${pokeDetails.selectedPokemon.id}`;\n              });\n\n            this.setState({\n                pokemonData: {...pokeDetails.selectedPokemon, owned: poke ? poke.owned : null}\n            })\n        })\n    }\n\n    catchPokemon = (pokeData) => {\n        const probability = [ 1,1,1,1,1,0,0,0,0,0];\n        let idx = Math.floor(Math.random() * probability.length);\n        if(probability[idx] === 1){\n            let payloadData = {\n                id : pokeData.id,\n                name: pokeData.name,\n                nickname: this.state.nickname\n            }\n\n            this.props.catchPokemon(payloadData).then(() => {\n                const catched = this.props.pokemon.catchFailure;\n                if(catched){\n                    this.setState({\n                        failure: this.props.pokemon.catchFailure,\n                    })\n                }\n                this.setState({\n                    success: true\n                })\n            })\n        }\n        else{\n            alert(\"gagal\")\n        }\n    }\n\n    catchPokeFailure = () => {\n        this.props.resetCatchFailure();\n        alert('Gagal')\n        return <Redirect to='/'/>\n    }\n\n    catchPokeSuccess = () => {\n        alert('Berhasil')\n        return <Redirect to='/'/>\n    }\n\n    showPokemon = (data) => (\n        data ?\n            <>\n                <p>ID :{data.id}</p>\n                <p>Name :{data.name}</p>\n                <Button onClick={() => this.catchPokemon({id:data.id,name:data.name})}>Test</Button>\n            </>\n            : <p>No Data</p>\n    )\n\n    render() {\n        const {pokemonData, failure, success} = this.state;\n        return (\n            <>\n                { pokemonData ? this.showPokemon(pokemonData) : <p>Loading</p>}\n                { failure ? this.catchPokeFailure():null }\n                { success ? this.catchPokeSuccess():null }\n            </>\n        )\n    }\n}\n\nexport default withRouter(PokemonDetails);"]},"metadata":{},"sourceType":"module"}