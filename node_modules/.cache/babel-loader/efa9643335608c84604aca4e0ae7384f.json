{"ast":null,"code":"import _defineProperty from \"/Users/naufanharish/react/pokemon/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { STORE_TYPE } from '../../constants';\nconst initialState = {\n  pokemonList: [],\n  selectedPokemon: {},\n  myPokemon: [],\n  isLoading: false,\n  offset: 0,\n  error: null,\n  isFetched: false,\n  detailsFetched: false,\n  catchFailure: false\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case STORE_TYPE.GET_ALL_POKEMON_REQUESTING:\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case STORE_TYPE.GET_ALL_POKEMON_SUCCESS:\n      return _objectSpread({}, state, {\n        pokemonList: state.pokemonList.concat(action.payload.results.map((item, index) => {\n          return {\n            id: item.url.substring(34, item.url.length - 1),\n            name: item.name,\n            url: item.url,\n            owned: 0\n          };\n        })),\n        isLoading: false,\n        offset: state.offset + 20,\n        isFetched: true\n      });\n\n    case STORE_TYPE.GET_ALL_POKEMON_ERROR:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        error: action.payload.message.error // Pokemon details\n\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_REQUESTING:\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_SUCCESS:\n      return _objectSpread({}, state, {\n        selectedPokemon: action.payload,\n        isLoading: false,\n        detailsFetched: true\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_ERROR:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        error: action.payload.message.error // Catch Pokemon\n\n      });\n\n    case STORE_TYPE.POKEMON_CATCHED:\n      const pokeList = state.pokemonList;\n\n      if (pokeList.length === 0) {\n        return _objectSpread({}, state, {\n          catchFailure: true\n        });\n      }\n\n      const pokeIndex = pokeList.findIndex(poke => poke.id === \"\".concat(action.payload.id));\n      pokeList[pokeIndex].owned = pokeList[pokeIndex].owned + 1;\n      return _objectSpread({}, state, {\n        myPokemon: state.myPokemon.concat({\n          id: \"\".concat(action.payload.id),\n          name: action.payload.name,\n          nicName: action.payload.nicName\n        }),\n        pokemonList: pokeList\n      });\n\n    case STORE_TYPE.RESET_CATCH_FAILURE:\n      return _objectSpread({}, state, {\n        catchFailure: false\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/naufanharish/react/pokemon/src/store/reducers/pokemon_reducers.js"],"names":["STORE_TYPE","initialState","pokemonList","selectedPokemon","myPokemon","isLoading","offset","error","isFetched","detailsFetched","catchFailure","state","action","type","GET_ALL_POKEMON_REQUESTING","GET_ALL_POKEMON_SUCCESS","concat","payload","results","map","item","index","id","url","substring","length","name","owned","GET_ALL_POKEMON_ERROR","message","POKEMON_DETAILS_REQUESTING","POKEMON_DETAILS_SUCCESS","POKEMON_DETAILS_ERROR","POKEMON_CATCHED","pokeList","pokeIndex","findIndex","poke","nicName","RESET_CATCH_FAILURE"],"mappings":"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","sourcesContent":["import {STORE_TYPE} from '../../constants';\n\nconst initialState = {\n    pokemonList:[],\n    selectedPokemon: {},\n    myPokemon: [],\n    isLoading: false,\n    offset:0,\n    error:null,\n    isFetched: false,\n    detailsFetched: false,\n    catchFailure: false,\n    \n  }\nexport default function (state = initialState, action) {\n    switch(action.type) {\n        case STORE_TYPE.GET_ALL_POKEMON_REQUESTING:\n            return {...state, isLoading:true}\n        case STORE_TYPE.GET_ALL_POKEMON_SUCCESS:\n            return { ...state,\n                pokemonList: state.pokemonList.concat(\n                    action.payload.results.map((item, index) => {\n                        return {\n                          id: item.url.substring(34, item.url.length - 1),\n                          name: item.name,\n                          url: item.url,\n                          owned: 0,\n                        } \n                    })\n                ),\n                isLoading: false,\n                offset: state.offset + 20,\n                isFetched: true\n            }\n        case STORE_TYPE.GET_ALL_POKEMON_ERROR:\n            return { ...state, isLoading: false, error: action.payload.message.error}\n        \n        // Pokemon details\n        case STORE_TYPE.POKEMON_DETAILS_REQUESTING:\n            return { ...state, isLoading: true }\n        case STORE_TYPE.POKEMON_DETAILS_SUCCESS:\n            return {\n                ...state,\n                selectedPokemon: action.payload,\n                isLoading: false,\n                detailsFetched: true \n            }\n        case STORE_TYPE.POKEMON_DETAILS_ERROR:\n            return { ...state, isLoading: false, error: action.payload.message.error }\n\n        // Catch Pokemon\n        case STORE_TYPE.POKEMON_CATCHED:\n            const pokeList = state.pokemonList;\n            if(pokeList.length === 0){\n                return { ...state, \n                    catchFailure: true\n                }\n            }\n            const pokeIndex = pokeList.findIndex(poke => poke.id === `${action.payload.id}`);\n            pokeList[pokeIndex].owned = pokeList[pokeIndex].owned + 1;\n            return { ...state, \n                myPokemon: state.myPokemon.concat(\n                {\n                    id: `${action.payload.id}`,\n                    name: action.payload.name,\n                    nicName: action.payload.nicName\n                }),\n                pokemonList: pokeList\n            }\n        case STORE_TYPE.RESET_CATCH_FAILURE:\n            return {\n                ...state,\n                catchFailure: false\n            }\n        \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}