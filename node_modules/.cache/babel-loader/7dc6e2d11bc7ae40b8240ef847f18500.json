{"ast":null,"code":"import _defineProperty from \"/Users/naufanharish/react/pokemon/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/naufanharish/react/pokemon/src/containers/pokemonDetails/pokemonDetails.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button } from '../../components/atom';\n\nclass PokemonDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pokemonData: null,\n      failure: false,\n      success: false\n    };\n\n    this.catchPokemon = id => {\n      const probability = [1, 1, 1, 1, 1, 0, 0, 0, 0, 0];\n      let idx = Math.floor(Math.random() * probability.length);\n\n      if (probability[idx] === 1) {\n        this.props.catchPokemon(id).then(() => {\n          const catched = this.props.pokemon.catchFailure;\n\n          if (catched) {\n            this.setState({\n              failure: this.props.pokemon.catchFailure\n            });\n          }\n\n          this.setState({\n            success: true\n          });\n        });\n      } else {\n        alert(\"gagal\");\n      }\n    };\n\n    this.catchPokeFailure = () => {\n      this.props.resetCatchFailure();\n      alert('Gagal');\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      });\n    };\n\n    this.catchPokeSuccess = () => {\n      alert('Berhasil');\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      });\n    };\n\n    this.showPokemon = data => data ? React.createElement(React.Fragment, null, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"ID :\", data.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Name :\", data.name), React.createElement(Button, {\n      onClick: () => this.catchPokemon(data.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Test\")) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"No Data\");\n  }\n\n  componentDidMount() {\n    this.props.getPokemonDetails(this.props.id).then(() => {\n      const pokeDetails = this.props.pokemon;\n      const poke = this.props.pokemon.pokemonList.find(function (element) {\n        return element.id === \"\".concat(pokeDetails.selectedPokemon.id);\n      });\n      this.setState({\n        pokemonData: _objectSpread({}, pokeDetails.selectedPokemon, {\n          owned: poke ? poke.owned : null\n        })\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          pokemonData = _this$state.pokemonData,\n          failure = _this$state.failure,\n          success = _this$state.success;\n    return React.createElement(React.Fragment, null, pokemonData ? this.showPokemon(pokemonData) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Loading\"), failure ? this.catchPokeFailure() : null, success ? this.catchPokeSuccess() : null);\n  }\n\n}\n\nexport default PokemonDetails;","map":{"version":3,"sources":["/Users/naufanharish/react/pokemon/src/containers/pokemonDetails/pokemonDetails.js"],"names":["React","Component","Redirect","Button","PokemonDetails","state","pokemonData","failure","success","catchPokemon","id","probability","idx","Math","floor","random","length","props","then","catched","pokemon","catchFailure","setState","alert","catchPokeFailure","resetCatchFailure","catchPokeSuccess","showPokemon","data","name","componentDidMount","getPokemonDetails","pokeDetails","poke","pokemonList","find","element","selectedPokemon","owned","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button } from '../../components/atom';\n\nclass PokemonDetails extends Component {\n    state = {\n        pokemonData: null,\n        failure: false,\n        success: false,\n    }\n\n    componentDidMount() {\n        this.props.getPokemonDetails(this.props.id).then(()=>{\n            const pokeDetails = this.props.pokemon; \n            const poke = this.props.pokemon.pokemonList.find(function(element) {\n                return element.id === `${pokeDetails.selectedPokemon.id}`;\n              });\n\n            this.setState({\n                pokemonData: {...pokeDetails.selectedPokemon, owned: poke ? poke.owned : null}\n            })\n        })\n    }\n\n    catchPokemon = (id) => {\n        const probability = [ 1,1,1,1,1,0,0,0,0,0];\n        let idx = Math.floor(Math.random() * probability.length);\n        if(probability[idx] === 1){\n            this.props.catchPokemon(id).then(() => {\n                const catched = this.props.pokemon.catchFailure;\n                if(catched){\n                    this.setState({\n                        failure: this.props.pokemon.catchFailure,\n                    })\n                }\n                this.setState({\n                    success: true\n                })\n            })\n        }\n        else{\n            alert(\"gagal\")\n        }\n    }\n\n    catchPokeFailure = () => {\n        this.props.resetCatchFailure();\n        alert('Gagal')\n        return <Redirect to='/'/>\n    }\n\n    catchPokeSuccess = () => {\n        alert('Berhasil')\n        return <Redirect to='/'/>\n    }\n\n    showPokemon = (data) => (\n        data ?\n            <>\n                <p>ID :{data.id}</p>\n                <p>Name :{data.name}</p>\n                <Button onClick={() => this.catchPokemon(data.id)}>Test</Button>\n            </>\n            : <p>No Data</p>\n    )\n\n    render() {\n        const {pokemonData, failure, success} = this.state;\n        return (\n            <>\n                { pokemonData ? this.showPokemon(pokemonData) : <p>Loading</p>}\n                { failure ? this.catchPokeFailure():null }\n                { success ? this.catchPokeSuccess():null }\n            </>\n        )\n    }\n}\n\nexport default PokemonDetails;"]},"metadata":{},"sourceType":"module"}