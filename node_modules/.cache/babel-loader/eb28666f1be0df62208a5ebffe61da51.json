{"ast":null,"code":"import _defineProperty from \"/Users/naufanharish/react/pokemon/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { STORE_TYPE } from '../../constants';\nconst initialState = {\n  pokemonList: [],\n  selectedPokemon: {\n    forms: [],\n    abilities: [],\n    stats: [],\n    moves: [],\n    sprites: {},\n    held_items: [],\n    species: {},\n    game_indices: [],\n    types: []\n  },\n  myPokemon: [],\n  isLoading: false,\n  offset: 0,\n  error: null,\n  isFetched: false,\n  detailsFetched: false,\n  catchFailure: false\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case STORE_TYPE.GET_ALL_POKEMON_REQUESTING:\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case STORE_TYPE.GET_ALL_POKEMON_SUCCESS:\n      return _objectSpread({}, state, {\n        pokemonList: state.pokemonList.concat(action.payload.results.map((item, index) => {\n          return {\n            id: item.url.substring(34, item.url.length - 1),\n            name: item.name,\n            url: item.url,\n            owned: 0\n          };\n        })),\n        isLoading: false,\n        offset: state.offset + 20,\n        isFetched: true,\n        error: null\n      });\n\n    case STORE_TYPE.GET_ALL_POKEMON_ERROR:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        error: action.payload.message.error // Pokemon details\n\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_REQUESTING:\n      return _objectSpread({}, state, {\n        selectedPokemon: {\n          forms: [],\n          abilities: [],\n          stats: [],\n          moves: [],\n          sprites: {},\n          held_items: [],\n          species: {},\n          game_indices: [],\n          types: []\n        },\n        isLoading: true\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_SUCCESS:\n      const pokemonList = state.pokemonList;\n      const poke = pokemonList.find(function (element) {\n        return element.id === \"\".concat(action.payload.id);\n      });\n      if (!poke || poke === undefined) return _objectSpread({}, state, {\n        isLoading: false,\n        error: true,\n        detailsFetched: false\n      });\n      return _objectSpread({}, state, {\n        selectedPokemon: _objectSpread({}, action.payload, {\n          owned: poke.owned\n        }),\n        isLoading: false,\n        detailsFetched: true,\n        error: null\n      });\n\n    case STORE_TYPE.POKEMON_DETAILS_ERROR:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        error: action.payload.message.error // Catch Pokemon\n\n      });\n\n    case STORE_TYPE.POKEMON_CATCHED:\n      const pokeList = state.pokemonList;\n      if (pokeList.length === 0) return _objectSpread({}, state, {\n        catchFailure: true\n      });\n      const pokeIndex = pokeList.findIndex(poke => poke.id === \"\".concat(action.payload.id));\n      pokeList[pokeIndex].owned = pokeList[pokeIndex].owned + 1;\n      return _objectSpread({}, state, {\n        myPokemon: state.myPokemon.concat({\n          id: \"\".concat(action.payload.id),\n          name: action.payload.name,\n          nickname: action.payload.nickname\n        }),\n        pokemonList: pokeList\n      });\n\n    case STORE_TYPE.RESET_CATCH_FAILURE:\n      return _objectSpread({}, state, {\n        catchFailure: false\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/naufanharish/react/pokemon/src/store/reducers/pokemon_reducers.js"],"names":["STORE_TYPE","initialState","pokemonList","selectedPokemon","forms","abilities","stats","moves","sprites","held_items","species","game_indices","types","myPokemon","isLoading","offset","error","isFetched","detailsFetched","catchFailure","state","action","type","GET_ALL_POKEMON_REQUESTING","GET_ALL_POKEMON_SUCCESS","concat","payload","results","map","item","index","id","url","substring","length","name","owned","GET_ALL_POKEMON_ERROR","message","POKEMON_DETAILS_REQUESTING","POKEMON_DETAILS_SUCCESS","poke","find","element","undefined","POKEMON_DETAILS_ERROR","POKEMON_CATCHED","pokeList","pokeIndex","findIndex","nickname","RESET_CATCH_FAILURE"],"mappings":";;;;;;AAAA,SAAQA,UAAR,QAAyB,iBAAzB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,WAAW,EAAC,EADK;AAEjBC,EAAAA,eAAe,EAAE;AACbC,IAAAA,KAAK,EAAE,EADM;AAEbC,IAAAA,SAAS,EAAE,EAFE;AAGbC,IAAAA,KAAK,EAAE,EAHM;AAIbC,IAAAA,KAAK,EAAE,EAJM;AAKbC,IAAAA,OAAO,EAAE,EALI;AAMbC,IAAAA,UAAU,EAAE,EANC;AAObC,IAAAA,OAAO,EAAE,EAPI;AAQbC,IAAAA,YAAY,EAAE,EARD;AASbC,IAAAA,KAAK,EAAE;AATM,GAFA;AAajBC,EAAAA,SAAS,EAAE,EAbM;AAcjBC,EAAAA,SAAS,EAAE,KAdM;AAejBC,EAAAA,MAAM,EAAC,CAfU;AAgBjBC,EAAAA,KAAK,EAAC,IAhBW;AAiBjBC,EAAAA,SAAS,EAAE,KAjBM;AAkBjBC,EAAAA,cAAc,EAAE,KAlBC;AAmBjBC,EAAAA,YAAY,EAAE;AAnBG,CAArB;AAsBA,eAAe,UAAUC,KAAK,GAAGnB,YAAlB,EAAgCoB,MAAhC,EAAwC;AACnD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKtB,UAAU,CAACuB,0BAAhB;AACI,+BAAWH,KAAX;AAAkBN,QAAAA,SAAS,EAAC;AAA5B;;AACJ,SAAKd,UAAU,CAACwB,uBAAhB;AACI,+BAAYJ,KAAZ;AACIlB,QAAAA,WAAW,EAAEkB,KAAK,CAAClB,WAAN,CAAkBuB,MAAlB,CACTJ,MAAM,CAACK,OAAP,CAAeC,OAAf,CAAuBC,GAAvB,CAA2B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxC,iBAAO;AACLC,YAAAA,EAAE,EAAEF,IAAI,CAACG,GAAL,CAASC,SAAT,CAAmB,EAAnB,EAAuBJ,IAAI,CAACG,GAAL,CAASE,MAAT,GAAkB,CAAzC,CADC;AAELC,YAAAA,IAAI,EAAEN,IAAI,CAACM,IAFN;AAGLH,YAAAA,GAAG,EAAEH,IAAI,CAACG,GAHL;AAILI,YAAAA,KAAK,EAAE;AAJF,WAAP;AAMH,SAPD,CADS,CADjB;AAWItB,QAAAA,SAAS,EAAE,KAXf;AAYIC,QAAAA,MAAM,EAAEK,KAAK,CAACL,MAAN,GAAe,EAZ3B;AAaIE,QAAAA,SAAS,EAAE,IAbf;AAcID,QAAAA,KAAK,EAAE;AAdX;;AAgBJ,SAAKhB,UAAU,CAACqC,qBAAhB;AACI,+BAAYjB,KAAZ;AAAmBN,QAAAA,SAAS,EAAE,KAA9B;AAAqCE,QAAAA,KAAK,EAAEK,MAAM,CAACK,OAAP,CAAeY,OAAf,CAAuBtB,KAAnE,CAEJ;;AAFI;;AAGJ,SAAKhB,UAAU,CAACuC,0BAAhB;AACI,+BAAYnB,KAAZ;AACIjB,QAAAA,eAAe,EAAE;AACbC,UAAAA,KAAK,EAAE,EADM;AAEbC,UAAAA,SAAS,EAAE,EAFE;AAGbC,UAAAA,KAAK,EAAE,EAHM;AAIbC,UAAAA,KAAK,EAAE,EAJM;AAKbC,UAAAA,OAAO,EAAE,EALI;AAMbC,UAAAA,UAAU,EAAE,EANC;AAObC,UAAAA,OAAO,EAAE,EAPI;AAQbC,UAAAA,YAAY,EAAE,EARD;AASbC,UAAAA,KAAK,EAAE;AATM,SADrB;AAYIE,QAAAA,SAAS,EAAE;AAZf;;AAaJ,SAAKd,UAAU,CAACwC,uBAAhB;AAAA,YACYtC,WADZ,GAC4BkB,KAD5B,CACYlB,WADZ;AAEI,YAAMuC,IAAI,GAAGvC,WAAW,CAACwC,IAAZ,CAAiB,UAAUC,OAAV,EAAmB;AAC7C,eAAOA,OAAO,CAACZ,EAAR,eAAkBV,MAAM,CAACK,OAAP,CAAeK,EAAjC,CAAP;AACH,OAFY,CAAb;AAIA,UAAG,CAACU,IAAD,IAASA,IAAI,KAAKG,SAArB,EAAgC,yBAAYxB,KAAZ;AAAmBN,QAAAA,SAAS,EAAE,KAA9B;AAAqCE,QAAAA,KAAK,EAAE,IAA5C;AAAiDE,QAAAA,cAAc,EAAE;AAAjE;AAChC,+BACOE,KADP;AAEIjB,QAAAA,eAAe,oBAAOkB,MAAM,CAACK,OAAd;AAAuBU,UAAAA,KAAK,EAAEK,IAAI,CAACL;AAAnC,UAFnB;AAGItB,QAAAA,SAAS,EAAE,KAHf;AAIII,QAAAA,cAAc,EAAE,IAJpB;AAKIF,QAAAA,KAAK,EAAE;AALX;;AAOJ,SAAKhB,UAAU,CAAC6C,qBAAhB;AACI,+BAAYzB,KAAZ;AAAmBN,QAAAA,SAAS,EAAE,KAA9B;AAAqCE,QAAAA,KAAK,EAAEK,MAAM,CAACK,OAAP,CAAeY,OAAf,CAAuBtB,KAAnE,CAEJ;;AAFI;;AAGJ,SAAKhB,UAAU,CAAC8C,eAAhB;AACI,YAAMC,QAAQ,GAAG3B,KAAK,CAAClB,WAAvB;AACA,UAAG6C,QAAQ,CAACb,MAAT,KAAoB,CAAvB,EAA0B,yBAAYd,KAAZ;AAAmBD,QAAAA,YAAY,EAAE;AAAjC;AAC1B,YAAM6B,SAAS,GAAGD,QAAQ,CAACE,SAAT,CAAmBR,IAAI,IAAIA,IAAI,CAACV,EAAL,eAAeV,MAAM,CAACK,OAAP,CAAeK,EAA9B,CAA3B,CAAlB;AACAgB,MAAAA,QAAQ,CAACC,SAAD,CAAR,CAAoBZ,KAApB,GAA4BW,QAAQ,CAACC,SAAD,CAAR,CAAoBZ,KAApB,GAA4B,CAAxD;AACA,+BAAYhB,KAAZ;AACIP,QAAAA,SAAS,EAAEO,KAAK,CAACP,SAAN,CAAgBY,MAAhB,CACX;AACIM,UAAAA,EAAE,YAAKV,MAAM,CAACK,OAAP,CAAeK,EAApB,CADN;AAEII,UAAAA,IAAI,EAAEd,MAAM,CAACK,OAAP,CAAeS,IAFzB;AAGIe,UAAAA,QAAQ,EAAE7B,MAAM,CAACK,OAAP,CAAewB;AAH7B,SADW,CADf;AAOIhD,QAAAA,WAAW,EAAE6C;AAPjB;;AASJ,SAAK/C,UAAU,CAACmD,mBAAhB;AACI,+BACO/B,KADP;AAEID,QAAAA,YAAY,EAAE;AAFlB;;AAKJ;AACI,aAAOC,KAAP;AA7ER;AA+EH","sourcesContent":["import {STORE_TYPE} from '../../constants';\n\nconst initialState = {\n    pokemonList:[],\n    selectedPokemon: {\n        forms: [],\n        abilities: [],\n        stats: [],\n        moves: [],\n        sprites: {},\n        held_items: [],\n        species: {},\n        game_indices: [],\n        types: []\n    },\n    myPokemon: [],\n    isLoading: false,\n    offset:0,\n    error:null,\n    isFetched: false,\n    detailsFetched: false,\n    catchFailure: false,\n    \n  }\nexport default function (state = initialState, action) {\n    switch(action.type) {\n        case STORE_TYPE.GET_ALL_POKEMON_REQUESTING:\n            return {...state, isLoading:true}\n        case STORE_TYPE.GET_ALL_POKEMON_SUCCESS:\n            return { ...state,\n                pokemonList: state.pokemonList.concat(\n                    action.payload.results.map((item, index) => {\n                        return {\n                          id: item.url.substring(34, item.url.length - 1),\n                          name: item.name,\n                          url: item.url,\n                          owned: 0,\n                        } \n                    })\n                ),\n                isLoading: false,\n                offset: state.offset + 20,\n                isFetched: true,\n                error: null\n            }\n        case STORE_TYPE.GET_ALL_POKEMON_ERROR:\n            return { ...state, isLoading: false, error: action.payload.message.error}\n        \n        // Pokemon details\n        case STORE_TYPE.POKEMON_DETAILS_REQUESTING:\n            return { ...state, \n                selectedPokemon: {\n                    forms: [],\n                    abilities: [],\n                    stats: [],\n                    moves: [],\n                    sprites: {},\n                    held_items: [],\n                    species: {},\n                    game_indices: [],\n                    types: []\n                },\n                isLoading: true }\n        case STORE_TYPE.POKEMON_DETAILS_SUCCESS:\n            const { pokemonList } = state;\n            const poke = pokemonList.find(function (element) {\n                return element.id === `${action.payload.id}`;\n            });\n\n            if(!poke || poke === undefined) return { ...state, isLoading: false, error: true,detailsFetched: false}\n            return {\n                ...state,\n                selectedPokemon: { ...action.payload, owned: poke.owned },\n                isLoading: false,\n                detailsFetched: true,\n                error: null \n            }\n        case STORE_TYPE.POKEMON_DETAILS_ERROR:\n            return { ...state, isLoading: false, error: action.payload.message.error }\n\n        // Catch Pokemon\n        case STORE_TYPE.POKEMON_CATCHED:\n            const pokeList = state.pokemonList;\n            if(pokeList.length === 0) return { ...state, catchFailure: true}\n            const pokeIndex = pokeList.findIndex(poke => poke.id === `${action.payload.id}`);\n            pokeList[pokeIndex].owned = pokeList[pokeIndex].owned + 1;\n            return { ...state, \n                myPokemon: state.myPokemon.concat(\n                {\n                    id: `${action.payload.id}`,\n                    name: action.payload.name,\n                    nickname: action.payload.nickname\n                }),\n                pokemonList: pokeList\n            }\n        case STORE_TYPE.RESET_CATCH_FAILURE:\n            return {\n                ...state,\n                catchFailure: false\n            }\n        \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}